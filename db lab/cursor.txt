declare 
  cursor custom is
  select emp_id,emp_name,emp_salary from employee order by emp_salary desc;

  empgo custom%rowtype;
  vlimit NUMBER := 0;
  vtotal NUMBER := 0;
begin
  open custom;
  loop
    fetch custom into empgo;
    exit when custom%notfound;
    if vlimit<5 then
      dbms_output.put_line('Name: ' ||empgo.emp_name||'    Salary: '||empgo.emp_salary);
      vtotal:=nvl(vtotal,0)+empgo.emp_salary;
      vlimit:=nvl(vlimit,0)+1;
    end if;
  end loop;
  close custom;
  dbms_output.put_line('Total salary is: '||vtotal);
  end;
  /





(b)
create or replace procedure displayPat(docID in number)
is
  cursor custom is
  Select Patient_Id,P.Name from patient P
  Join Appointment A ON P.patient_id=A.patient_id
  Join Doctor D on D.Doctor_id=A.Doctor_id
  where A.Doctor_id=docID;

  patgo custom%rowtype;

begin
  dbms_output.put_line('Patient Details');
  open custom;
  loop
    fetch custom into patgo;
    exit when custom%notfound;
    dbms_output.put_line('Id:' ||patgo.Patient_Id||'  Name:'||patgo.Name);
  end loop;
  close custom;
end;
/

declare
  Docid number:=&Doctor_ID;
begin
  displayPat(Docid);
end;
/

